<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Register Form</title>
    <script>
        function changeBgColor(color) {
            document.getElementById("box1").style.backgroundColor = color;
        }

        function validateForm(event) {
            event.preventDefault();

            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const confirmPassword = document.getElementById('confirmPassword').value.trim();
            const dob = document.getElementById('dob').value;

            const usernameRegex = /^[a-zA-Z0-9]+$/;
            const passwordRegex = /^[a-zA-Z0-9]{8,}$/;

            if (!usernameRegex.test(username)) {
                alert('Username must be alphanumeric only.');
                return;
            }

            if (!passwordRegex.test(password)) {
                alert('Password must be at least 8 characters long and alphanumeric (no special characters).');
                return;
            }

            if (password !== confirmPassword) {
                alert('Passwords do not match.');
                return;
            }

            if (!isAbove18(dob)) {
                alert('You must be above 18 years old.');
                return;
            }

            // If all validations pass
            alert('Form submitted successfully!');
            event.target.submit();
        }

        function isAbove18(dob) {
            const birthDate = new Date(dob);
            const today = new Date();
            const age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                return age - 1 >= 18;
            }
            return age >= 18;
        }
    </script>
</head>
<body>
    <div style="display: flex; justify-content: center;">
        <img src="logo.jpg" alt="logo" height="100px" width="100px" style="border-radius: 50%;">
    </div>
    <div style="display: flex; justify-content: center;">
        <h1>User Register Form</h1>
    </div>
    <div style="display: flex; height: 700px; justify-content: center;">
        <div style="background-color: rgb(161, 199, 237); width: 300px;">
            <div id="box1" style="background-color: rgb(156, 178, 207); height: 60%;">
                <form onsubmit="validateForm(event)">
                    <label>Username:</label>
                    <input type="text" id="username" placeholder="Enter Username" required><br><br>

                    <label>Email:</label>
                    <input type="email" placeholder="Enter Email" required><br><br>

                    <label>Password:</label>
                    <input type="password" id="password" placeholder="Enter Password" required><br><br>

                    <label>Confirm Password:</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm Password" required><br><br>

                    <label>Date of Birth:</label>
                    <input type="date" id="dob" required><br><br>

                    <label>Country:</label>
                    <select required>
                        <option value="">Select Country</option>
                        <option value="USA">USA</option>
                        <option value="India">India</option>
                        <option value="UK">UK</option>
                        <option value="Australia">Australia</option>
                    </select><br><br>

                    <label>Background Color:</label>
                    <input type="color" onchange="changeBgColor(this.value)"><br><br>

                    <label>Gender:</label>
                    <input type="radio" name="gender" value="Male" required> Male
                    <input type="radio" name="gender" value="Female"> Female <br><br>

                    <input type="checkbox" id="terms" required>
                    <label for="terms">
                        <a href="#" onclick="alert('Terms & Conditions: You must agree before proceeding.')">Accept Terms & Conditions</a>
                    </label><br><br>

                    <button type="submit">Submit</button>
                </form>
            </div>
            <div style="background-color: rgb(31, 193, 171); height: 40%;">2</div>
        </div>  
        <div style="background-color: rgb(112, 60, 93); width: 300px;">3</div>
    </div>
</body>
</html>
